{{ 'product-benefits.css' | asset_url | stylesheet_tag }}

{%- liquid
    assign highlightedBackgroundColor = product.metafields.custom.color_schema.value.highlighted_background_color | default: "#EA6852"
    assign highlightedTextColor = product.metafields.custom.color_schema.value.highlighted_text_color
-%}
{% assign prodBenefits = product.metafields.custom.product_benefits.value %}

{% style %}
    .pb_container .pb_title{
        background-color: {{ highlightedBackgroundColor }};
        color: {{ highlightedTextColor }}
    }
{% endstyle %}

<div class="pb_container">
    <div class="pb_title">
        <p class="heading">Powerful Benefits </p>
        <p class="subheading">{{ product.title }}</p>
    </div>
    <div class="pb_content">
        <div class="pb_left pb_stylign">
            {% for block in prodBenefits limit: 2 %}
                <div class="pb_content_continer">
                    <img src="{{ block.images | img_url: 'master'}}" alt="">
                    <span class="pb_content_left pb_content_inner">
                        <h6>{{ block.heading }}</h6>
                        <p>{{ block.description }}</p>
                    </span>
                </div>
            {% endfor %}
        </div>
        <div class="pb_center">
            {% for block in prodBenefits %}
                {% if block.heading == "false" %}
                    <img src="{{ block.images | img_url: 'master'}}" alt="">
                {% endif %}
            {% endfor %}
        </div>
        <div class="pb_right pb_stylign">
            {% for block in prodBenefits offset: 2 %}
                {% unless block.heading == "false" %}
                    <div class="pb_content_continer">
                        <img src="{{ block.images | img_url: 'master'}}" alt="">
                        <span class="pb_content_right pb_content_inner">
                            <h6>{{ block.heading }}</h6>
                            <p>{{ block.description }}</p>
                        </span>
                    </div>
                {% endunless %}
            {% endfor %}
        </div>
    </div>
</div>

{% schema %}
    {
        "name": "Product Benefits",
        "settings": [
            {
                "type": "image_picker",
                "id": "featured_image",
                "label": "Center Featured Image"
            },
            {
                "type": "text",
                "id": "heading",
                "label": "Heading"
            },
            {
                "type": "text",
                "id": "sub_heading",
                "label": "Sub Heading"
            },
            {
                "type": "color",
                "id": "bg_color",
                "label": "Background Color"
            },
            {
                "type": "color",
                "id": "text_color",
                "label": "Text Color"
            },
            {
                "type": "select",
                "id": "heading_alignment",
                "label": "Main Text Alignment",
                "options": [
                    {
                        "value": "center",
                        "label": "Center"
                    }
                ]
            }
        ],
        "blocks": [
            {
                "type": "leftBlockInfo",
                "name": "Product Left Blocks Info",
                "settings": [
                    {
                        "type": "image_picker",
                        "id": "block_image",
                        "label": "Image"
                    },
                    {
                        "type": "text",
                        "id": "heading",
                        "label": "Heading"
                    },
                    {
                        "type": "text",
                        "id": "description",
                        "label": "Product Description"
                    }
                ]
            },
            {
                "type": "rightBlockInfo",
                "name": "Product Right Blocks Info",
                "settings": [
                    {
                        "type": "image_picker",
                        "id": "block_image",
                        "label": "Image"
                    },
                    {
                        "type": "text",
                        "id": "heading",
                        "label": "Heading"
                    },
                    {
                        "type": "text",
                        "id": "description",
                        "label": "Product Description"
                    }
                ]
            }
        ],
        "presets": [
            {
                "name": "Product Benefits"
            }
        ]
    }
{% endschema %}