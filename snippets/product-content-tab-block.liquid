{%- liquid
  assign options = block.settings
  assign block_style = options.style
  assign title = options.title
  assign text = options.text
  assign page = options.page
  assign image = options.image
  assign video = options.video
  assign custom_icon_image = options.custom_icon_image
  assign icon = options.icon
-%}

{%- if block_style contains 'collapsible' -%}
  <accordeon-component
    class='accordeon-plus accordeon-plus--bottom-bordered accordeon-plus--top-bordered product-content-tab product-content-tab--collapsible-row block-{{ block.id }}'
    data-aria-expanded='{% if block_style == 'collapsible_row_open' %}true{% else %}false{% endif %}'
    {{ block.shopify_attributes }}
  >
    <accordeon-btn class='accordeon-plus__btn accordeon-plus__btn--small product-content-tab__btn' tabindex='0'>
      {%- if custom_icon_image != blank -%}
        <img
          loading='lazy'
          alt='{{ custom_icon_image.alt }}'
          class='accordeon-plus__btn-icon lazyload'
          width='24'
          height='24'
          src='{{ custom_icon_image | image_url: width: 24 }}'
          style='object-position: {{ custom_icon_image.presentation.focal_point }};'
          data-aspectratio='{{ custom_icon_image.aspect_ratio }}'
          data-srcset='{%- render 'srcset-for-image', image: custom_icon_image, size: 'small' -%}'
          data-sizes='auto'
        >
      {%- elsif icon != 'none' -%}
        {% render 'icon-pack', icon: icon, class: 'accordeon-plus__btn-icon' %}
      {%- endif -%}
      {{ title }}
      {%- render 'icon', icon_name: 'plus', class: 'accordeon-plus__icon' -%}
    </accordeon-btn>
    <div class='accordeon-plus__content-wrap body-font-weight-from-global-settings' data-accordeon-content-wrapper>
      <div class='accordeon-plus__content product-content-tab__content' data-accordeon-content>
        {% if text != blank %}
          <div class='rte product-content-tab__rte product-content-tab__text'>{{ text }}</div>
        {% endif %}

        {% if page != blank %}
          <div class='rte rte--page product-content-tab__rte'>
            {{ page.content }}
          </div>
        {% endif %}

        {%- if video != blank -%}
          {% render 'video-with-alt', video: video, class: 'product-content-tab__image' %}
        {%- elsif image != blank -%}
          <img
            class='product-content-tab__image lazyload'
            loading='lazy'
            src='{{ image | image_url: width: 160 }}'
            alt='{{ image.alt }}'
            width='{{ image.width }}'
            height='{{ image.height }}'
            style='object-position: {{ image.presentation.focal_point }};'
            data-aspectratio='{{ image.aspect_ratio }}'
            data-srcset='{%- render 'srcset-for-image', image: image -%}'
            data-sizes='auto'
            {{ attrs }}
          >
        {%- endif -%}
      </div>
    </div>
  </accordeon-component>
{%- else -%}
  <div class='product-content-tab block-{{ block.id }}' {{ block.shopify_attributes }}>
    {% if title != blank %}
      <div class='product-content-tab__title'>
        {%- if custom_icon_image != blank -%}
          <img
            loading='lazy'
            alt='{{ custom_icon_image.alt }}'
            class='product-content-tab__title-icon lazyload'
            width='24'
            height='24'
            src='{{ custom_icon_image | image_url: width: 24 }}'
            style='object-position: {{ custom_icon_image.presentation.focal_point }};'
            data-aspectratio='{{ custom_icon_image.aspect_ratio }}'
            data-srcset='{%- render 'srcset-for-image', image: custom_icon_image, size: 'small' -%}'
            data-sizes='auto'
          >
        {%- elsif icon != 'none' -%}
          {% render 'icon-pack', icon: icon, class: 'product-content-tab__title-icon' %}
        {%- endif -%}
        {{ title }}
      </div>
    {% endif %}
    {% if text != blank or image != blank or video != blank or page != blank %}
      <div class='product-content-tab__content'>
        {% if text != blank %}
          <div class='rte product-content-tab__rte product-content-tab__text'>{{ text }}</div>
        {% endif %}

        {% if page != blank %}
          <div class='rte rte--page product-content-tab__rte'>
            {{ page.content }}
          </div>
        {% endif %}

        {%- if video != blank -%}
          {% render 'video-with-alt', video: video, class: 'product-content-tab__image' %}
        {%- elsif image != blank -%}
          <img
            class='product-content-tab__image lazyload'
            loading='lazy'
            src='{{ image | image_url: width: 160 }}'
            alt='{{ image.alt }}'
            width='{{ image.width }}'
            height='{{ image.height }}'
            style='object-position: {{ image.presentation.focal_point }};'
            data-aspectratio='{{ image.aspect_ratio }}'
            data-srcset='{%- render 'srcset-for-image', image: image -%}'
            data-sizes='auto'
            {{ attrs }}
          >
        {%- endif -%}
      </div>
    {% endif %}
  </div>
{%- endif -%}
